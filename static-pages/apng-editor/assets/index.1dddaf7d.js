var $=Object.defineProperty;var H=(i,e,t)=>e in i?$(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var c=(i,e,t)=>(H(i,typeof e!="symbol"?e+"":e,t),t);import{c as E,v as a,s as L,l as D,A as q,y as T,n as R,a as k,o as S,e as G,r as j,S as K}from"./vendor.b6d28433.js";const W=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const h of n)if(h.type==="childList")for(const r of h.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const h={};return n.integrity&&(h.integrity=n.integrity),n.referrerpolicy&&(h.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?h.credentials="include":n.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(n){if(n.ep)return;n.ep=!0;const h=t(n);fetch(n.href,h)}};W();const A=i=>Uint8Array.from(atob(i.split(",")[1]),e=>e.charCodeAt(0)),b=i=>{const e=i.reduce((n,h)=>n+h.data.byteLength,0),t=new Uint8Array(e);let s=0;return i.forEach(n=>{t.set(n.data,s),s+=n.data.byteLength}),t},X=i=>Array.from(i.slice(0,8)).every((e,t)=>e===x[t]),F=i=>String.fromCharCode(...Array.from(i)),U=i=>{const e=new Uint8Array(i.byteLength+8),t=new DataView(e.buffer);t.setUint32(0,i.length-4),e.set(i,4);const s=E.buf(e.subarray(4,4+i.byteLength));return t.setUint32(e.length-4,s),e},J=U(new Uint8Array([122,84,88,116,108,97,115,116,110,105,103,116,105,99,0,80,114,111,99,101,115,115,101,100,32,98,121,32,97,112,110,103,45,101,100,105,116,111,114,45,97,112,112])),x=new Uint8Array([137,80,78,71,13,10,26,10]);class Q{constructor(e){c(this,"IHDR");c(this,"ACTL");c(this,"prevChunks",[]);c(this,"afterChunks",[]);c(this,"name");c(this,"preloadLength",12);c(this,"$images",[]);c(this,"imageReq",null);c(this,"frameImages",[]);c(this,"frames",[]);c(this,"index",0);c(this,"prevFrameData",null);c(this,"$canvas");c(this,"ctx");c(this,"loadImage",async e=>new Promise((t,s)=>{const n=this.frames[e];if(!n)return s();const h=document.createElement("img"),r=n.fcTLChunk,u=this.IHDR.newByConfig({width:r.width,height:r.height}),v=new Blob([x,u.data,b(this.prevChunks),n.dataChunk,b(this.afterChunks)],{type:"image/png"}),m=URL.createObjectURL(v);h.src=m,h.onload=()=>{this.$images[e]=h,t(h)},h.onerror=y=>s(y)}));c(this,"loadImages",async()=>{if(!this.IHDR)return;if(this.imageReq)return this.imageReq;this.imageReq=Promise.all(this.frames.map((s,n)=>this.loadImage(n))),await this.imageReq,this.imageReq=null;const e=this.IHDR.width,t=this.IHDR.height;this.$canvas.setAttribute("width",`${e*window.devicePixelRatio}`),this.$canvas.setAttribute("height",`${t*window.devicePixelRatio}`),this.$canvas.setAttribute("style",`width: ${e}px;height: ${t}px;`),this.ctx=this.$canvas.getContext("2d"),this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)});c(this,"renderFrame",()=>{const e=this.frames[this.index-1];e&&(e.fcTLChunk.disposeOp==1?this.ctx.clearRect(e.fcTLChunk.xOffset,e.fcTLChunk.yOffset,e.fcTLChunk.width,e.fcTLChunk.height):this.prevFrameData&&e.fcTLChunk.disposeOp==2&&this.ctx.putImageData(this.prevFrameData,e.fcTLChunk.xOffset,e.fcTLChunk.yOffset));const t=this.frames[this.index],s=t.fcTLChunk;t.fcTLChunk.disposeOp==2&&(this.prevFrameData=this.ctx.getImageData(s.xOffset,s.yOffset,s.width,s.height)),t.fcTLChunk.blendOp==0&&this.ctx.clearRect(s.xOffset,s.yOffset,s.width,s.height),this.ctx.drawImage(this.$images[this.index],s.xOffset,s.yOffset)});c(this,"preload",async()=>{!this.IHDR||(await this.loadImages(),await new Promise(e=>{const t=()=>{if(this.index<this.frames.length){const s=Math.min(this.index+this.preloadLength,this.frames.length);for(;this.index<s;)this.renderFrame(),this.index++,this.frameImages.push(this.$canvas.toDataURL("image/png",1));requestAnimationFrame(t)}else this.index=0,this.renderFrame(),e()};t()}))});c(this,"playing",!1);c(this,"pause",()=>{this.playing=!1});c(this,"stop",()=>{this.playing=!1,this.index=0,this.renderFrame()});c(this,"play",async()=>{if(this.playing)return;(this.imageReq||!this.$images.length)&&await this.loadImages(),this.playing=!0;let e=0,t=0;const s=this.frames.map(h=>h.delay),n=h=>{if(!!this.playing){if(this.playTime&&e>this.playTime)return this.pause();if(this.index||(t=h),h<t)return requestAnimationFrame(n);for(;t<=h;){if(this.index>=this.frames.length){e++,this.index=0;break}this.renderFrame(),t+=s[this.index++]}requestAnimationFrame(n)}};n(performance.now())});this.name=e,this.$canvas=document.createElement("canvas"),this.ctx=this.$canvas.getContext("2d");const t=navigator.userAgent,s=/Mac\sOS\sX/i.test(t),n=/chrome/i.test(t),h=/firefox/i.test(t),r=/safari/i.test(t);s&&(r&&!n&&!h||!r&&!n&&!h)&&(this.preloadLength=1)}get playTime(){var e;return((e=this.ACTL)==null?void 0:e.playTime)||0}get data(){return b([{data:x},this.IHDR,...this.prevChunks,this.ACTL,...this.frames,{data:J},...this.afterChunks])}modify({playTime:e}){var t;this.ACTL=(t=this.ACTL)==null?void 0:t.newByConfig({playTime:e})}modifyFrame(e,t){const s=this.frames[t];s.fcTLChunk=s.fcTLChunk.newByConfig(e),this.loadImage(t)}mount(e){if(!!this.IHDR&&!e.contains(this.$canvas)){let t=`width: ${this.IHDR.width}px;height: ${this.IHDR.height}px;`,s=1;const n=Math.max(this.IHDR.width,this.IHDR.height);n>400&&(s=400/n,t+=`transform: scale(${s});transform-origin: top left;`),e.setAttribute("style",t),e.appendChild(this.$canvas)}}}class d{constructor(e){c(this,"data");this.data=e}get name(){return F(this.data.subarray(4,8))}newByConfig(e){const t=this.createNewInstance();return Object.keys(e).forEach(s=>{t[s]=e[s]}),t.syncData(),t.data=U(t.data.subarray(4,this.data.byteLength-4)),t}syncData(){}createNewInstance(){return new d(this.data)}}class I extends d{constructor(e){super(e);c(this,"width");c(this,"height");c(this,"bitDepth");c(this,"colorType");c(this,"compressionType");c(this,"filterType");c(this,"interlaceType");const t=new DataView(e.buffer);this.width=t.getUint32(8+0),this.height=t.getUint32(8+4),this.bitDepth=t.getUint8(8+8),this.colorType=t.getUint8(8+9),this.compressionType=t.getUint8(8+10),this.filterType=t.getUint8(8+11),this.interlaceType=t.getUint8(8+12)}syncData(){const e=new Uint8Array(this.data),t=new DataView(e.buffer);t.setUint32(8+0,this.width),t.setUint32(8+4,this.height),t.setUint8(8+8,this.bitDepth),t.setUint8(8+9,this.colorType),t.setUint8(8+10,this.compressionType),t.setUint8(8+11,this.filterType),t.setUint8(8+12,this.interlaceType),this.data=e}createNewInstance(){return new I(this.data)}}class N extends d{constructor(e){super(e);c(this,"frameCount");c(this,"playTime");const t=new DataView(e.buffer);this.frameCount=t.getUint32(8+0),this.playTime=t.getUint32(8+4)}syncData(){const e=new Uint8Array(this.data),t=new DataView(e.buffer);t.setUint32(8+0,this.frameCount),t.setUint32(8+4,this.playTime),this.data=e}createNewInstance(){return new N(this.data)}}class z extends d{constructor(e){super(e);c(this,"num");c(this,"width");c(this,"height");c(this,"xOffset");c(this,"yOffset");c(this,"delayNum");c(this,"delayDen");c(this,"disposeOp");c(this,"blendOp");const t=new DataView(e.buffer);this.num=t.getUint32(8+0),this.width=t.getUint32(8+4),this.height=t.getUint32(8+8),this.xOffset=t.getUint32(8+12),this.yOffset=t.getUint32(8+16),this.delayNum=t.getUint16(8+20),this.delayDen=t.getUint16(8+22),this.disposeOp=t.getUint8(8+24),this.blendOp=t.getUint8(8+25)}syncData(){const e=new Uint8Array(this.data),t=new DataView(e.buffer);t.setUint32(8+0,this.num),t.setUint32(8+4,this.width),t.setUint32(8+8,this.height),t.setUint32(8+12,this.xOffset),t.setUint32(8+16,this.yOffset),t.setUint16(8+20,this.delayNum),t.setInt16(8+22,this.delayDen),t.setUint8(8+24,this.disposeOp),t.setUint8(8+25,this.blendOp),this.data=e}createNewInstance(){return new z(this.data)}}class Y extends d{constructor(e){super(e);c(this,"frameData");this.frameData=e.subarray(8,e.length-4)}}class O extends d{constructor(e){super(e);c(this,"num");c(this,"frameData");const t=new DataView(e.buffer);this.num=t.getUint32(8+0),this.frameData=e.subarray(8+4,e.length-4)}syncData(){const e=new Uint8Array(this.frameData.byteLength+12),t=new DataView(e.buffer);e.set(this.data,0),t.setUint32(8,this.num),e.set(new Uint8Array(this.frameData),12),this.data=e}createNewInstance(){return new O(this.data)}}const Z=i=>{const e=F(i.subarray(4,8));return/ihdr/i.test(e)?new I(i):/actl/i.test(e)?new N(i):/fctl/i.test(e)?new z(i):/fdat/i.test(e)?new O(i):/idat/i.test(e)?new Y(i):new d(i)},_=new Uint8Array([73,68,65,84]);class tt{constructor(e){c(this,"fcTLChunk");c(this,"dataChunks",[]);c(this,"appendData",e=>{this.dataChunks.push(e)});this.fcTLChunk=e}get dataChunk(){const e=this.dataChunks.reduce((n,h)=>n+h.frameData.byteLength,0)+4,t=new Uint8Array(e);t.set(_);let s=4;return this.dataChunks.map(n=>{t.set(n.frameData,s),s+=n.frameData.byteLength}),U(t)}get delay(){const e=this.fcTLChunk.delayNum*1e3/this.fcTLChunk.delayDen;return e<11?100:e}get data(){return b([this.fcTLChunk,...this.dataChunks])}}const et=(i,e)=>{let t=8;const s=new DataView(i);do{const n=s.getUint32(t),h=new Uint8Array(i.slice(t,t+8+n+4));e(h,t,i),t+=4+4+n+4}while(t<i.byteLength)},at=async i=>{const e=await i.arrayBuffer();if(!X(new Uint8Array(e.slice(0,8))))throw new Error("Please insert a png file");const t=new Q(i.name);let s=null;return et(e,(n,h,r)=>{const u=Z(n);switch(u.name){case"fcTL":{s&&t.frames.push(s),s=new tt(u);break}case"IDAT":case"fdAT":{s==null||s.appendData(u);break}case"IHDR":{t.IHDR=u;break}case"acTL":{t.ACTL=u;break}default:t.frames.length?t.afterChunks.push(u):t.prevChunks.push(u),s&&t.frames.push(s),s=null}}),await t.preload(),t},st=()=>a("svg",{class:"apng-add-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},a("path",{fill:"#AAA",d:"M792.576 547.84a25.6 25.6 0 0 0 0-51.2H537.6V241.664a25.6 25.6 0 1 0-51.2 0v254.976H231.424a25.6 25.6 0 1 0 0 51.2h254.976V802.816a25.6 25.6 0 0 0 51.2 0V547.84zM51.2 648.6016a25.6 25.6 0 0 0 25.6-25.6v-81.92a25.6 25.6 0 0 0-51.2 0v81.92a25.6 25.6 0 0 0 25.6 25.6zM51.2 464.2816a25.6 25.6 0 0 0 25.6-25.6v-81.92a25.6 25.6 0 0 0-51.2 0v81.92a25.6 25.6 0 0 0 25.6 25.6zM127.7952 945.5616a99.5328 99.5328 0 0 1-43.008-47.3088 26.0096 26.0096 0 0 0-33.5872-13.312 25.1904 25.1904 0 0 0-13.312 33.5872A149.0944 149.0944 0 0 0 102.4 990.4128a26.0096 26.0096 0 0 0 12.288 3.072 25.6 25.6 0 0 0 22.528-13.312 24.576 24.576 0 0 0 3.072-12.0832 25.6 25.6 0 0 0-12.4928-22.528zM76.8 807.3216v-81.92a25.6 25.6 0 0 0-51.2 0v81.92a25.6 25.6 0 0 0 51.2 0zM832.512 87.04h17.408a96.6656 96.6656 0 0 1 48.7424 13.1072 23.9616 23.9616 0 0 0 12.9024 3.4816 25.3952 25.3952 0 0 0 24.7808-31.9488 24.7808 24.7808 0 0 0-11.8784-15.5648 146.6368 146.6368 0 0 0-74.5472-20.48h-17.408a25.6 25.6 0 0 0 0 51.2zM463.872 87.04h81.92a25.6 25.6 0 0 0 0-51.2h-81.92a25.6 25.6 0 0 0 0 51.2zM202.752 61.44a25.6 25.6 0 0 0-25.6-25.6h-3.2768a147.8656 147.8656 0 0 0-88.6784 29.4912 26.0096 26.0096 0 0 0-10.0352 20.48 23.7568 23.7568 0 0 0 5.12 15.1552 24.9856 24.9856 0 0 0 20.48 10.24 24.7808 24.7808 0 0 0 14.9504-4.9152 95.4368 95.4368 0 0 1 57.9584-20.48h3.072A25.6 25.6 0 0 0 202.752 61.44zM279.552 87.04h81.92a25.6 25.6 0 0 0 0-51.2h-81.92a25.6 25.6 0 1 0 0 51.2zM51.2 279.9616a25.6 25.6 0 0 0 25.6-25.6V184.32v-9.4208a25.6 25.6 0 0 0-50.5856-4.9152v84.3776a25.6 25.6 0 0 0 24.9856 25.6zM648.192 87.04h81.92a25.6 25.6 0 0 0 0-51.2h-81.92a25.6 25.6 0 0 0 0 51.2zM972.8 317.0304a25.6 25.6 0 0 0-25.6 25.6v81.92a25.6 25.6 0 1 0 51.2 0v-81.92a25.6 25.6 0 0 0-25.6-25.6zM972.8 685.6704a25.6 25.6 0 0 0-25.6 25.6v81.92a25.6 25.6 0 0 0 51.2 0v-81.92a25.6 25.6 0 0 0-25.6-25.6zM972.8 501.3504a25.6 25.6 0 0 0-25.6 25.6v81.92a25.6 25.6 0 1 0 51.2 0v-81.92a25.6 25.6 0 0 0-25.6-25.6zM995.1232 153.1904a26.0096 26.0096 0 0 0-30.5152-20.48 25.3952 25.3952 0 0 0-20.48 25.1904 23.552 23.552 0 0 0 0 5.3248 109.7728 109.7728 0 0 1 2.048 20.48v55.9104a25.6 25.6 0 1 0 51.2 0V184.32a155.8528 155.8528 0 0 0-2.2528-31.1296zM975.0528 870.6048a26.0096 26.0096 0 0 0-31.9488 17.2032 99.328 99.328 0 0 1-37.2736 51.6096 25.8048 25.8048 0 0 0-5.9392 35.6352 25.3952 25.3952 0 0 0 35.6352 6.144 150.528 150.528 0 0 0 56.7296-78.848 28.672 28.672 0 0 0 0-6.9632 25.8048 25.8048 0 0 0-17.2032-24.7808zM296.96 957.44h-81.92a25.6 25.6 0 0 0 0 51.2h81.92a25.6 25.6 0 0 0 0-51.2zM481.28 957.44h-81.92a25.6 25.6 0 0 0 0 51.2h81.92a25.6 25.6 0 0 0 0-51.2zM665.6 957.44h-81.92a25.6 25.6 0 0 0 0 51.2h81.92a25.6 25.6 0 0 0 0-51.2zM849.92 957.44h-81.92a25.6 25.6 0 0 0 0 51.2h81.92a25.6 25.6 0 0 0 0-51.2z"})),nt=()=>a("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a("path",{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m0 955.904c-244.736 0-443.904-199.168-443.904-443.904 0-244.736 199.168-443.904 443.904-443.904s443.904 199.168 443.904 443.904c0 244.736-199.168 443.904-443.904 443.904z m160.768-501.76L493.056 347.648c-20.992-12.288-46.08-12.8-67.584-0.512-20.992 12.288-33.792 33.792-33.792 58.368v213.504c0 24.576 12.8 46.08 33.792 58.368 10.24 6.144 22.016 8.704 33.28 8.704 11.776 0 23.552-3.072 34.304-9.216l180.224-106.496c20.48-12.288 32.768-33.792 32.768-57.856 0-24.576-12.288-46.08-33.28-58.368z m-212.992 162.304l-2.048-210.432 180.224 104.448-178.176 105.984z",fill:"#000000"})),it=()=>a("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a("path",{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m0 955.904c-244.736 0-443.904-199.168-443.904-443.904 0-244.736 199.168-443.904 443.904-443.904s443.904 199.168 443.904 443.904c0 244.736-199.168 443.904-443.904 443.904zM461.824 416.256v191.488a34.304 34.304 0 0 1-68.608 0V416.256c0-18.944 15.36-34.304 34.304-34.304 18.944 0.512 34.304 15.36 34.304 34.304z m168.96 0v191.488a34.304 34.304 0 0 1-68.608 0V416.256c0-18.944 15.36-34.304 34.304-34.304 18.944 0.512 34.304 15.36 34.304 34.304z",fill:"#000000"})),rt=()=>a("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a("path",{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m0 955.904c-244.736 0-443.904-199.168-443.904-443.904 0-244.736 199.168-443.904 443.904-443.904s443.904 199.168 443.904 443.904c0 244.736-199.168 443.904-443.904 443.904z m84.48-605.696H421.376c-36.352 0-66.048 29.696-66.048 66.048v175.616c0 36.352 29.696 66.048 66.048 66.048h175.616c36.352 0 66.048-29.696 66.048-66.048V415.744c-0.512-36.352-30.208-65.536-66.56-65.536z m-2.048 238.592l-170.496 2.56-2.56-173.056 173.056-2.56V588.8z",fill:"#000000"})),B=()=>a("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a("path",{d:"M909.5 671.4h-625c-17.7 0-32-14.3-32-32s14.3-32 32-32h625c17.7 0 32 14.3 32 32s-14.3 32-32 32z",fill:"#000000"}),a("path",{d:"M904.8 662.7c-8.2 0-16.4-3.1-22.6-9.4l-225-225c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l225 225c12.5 12.5 12.5 32.8 0 45.3-6.3 6.3-14.5 9.4-22.7 9.4z",fill:"#000000"}),a("path",{d:"M679.5 905.2c-8.2 0-16.4-3.1-22.6-9.4-12.5-12.5-12.5-32.8 0-45.3l225-225c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-225 225c-6.3 6.3-14.5 9.4-22.7 9.4z",fill:"#000000"}),a("path",{d:"M448.2 958.3H229.7c-89.3 0-162-72.7-162-162V228.2c0-89.3 72.7-162 162-162h568.1c89.3 0 162 72.7 162 162v208.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V228.2c0-54-44-98-98-98H229.7c-54 0-98 44-98 98v568.1c0 54 44 98 98 98h218.5c17.7 0 32 14.3 32 32s-14.3 32-32 32z",fill:"#000000"})),ct=()=>a("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},a("path",{d:"M896 704a32 32 0 0 1 32 32v160a32 32 0 0 1-32 32h-128a32 32 0 0 1-32-32v-160a32 32 0 0 1 32-32h128z m0 32h-128v160h128v-160zM710.912 218.336a16 16 0 0 1-9.28 20.64 292.064 292.064 0 0 0-188.16 257.024h182.464a16 16 0 0 1 2.88 31.744l-2.88 0.256h-182.496a292 292 0 0 0 188.16 257.024 16 16 0 0 1-11.328 29.952 324 324 0 0 1-188.16-188.16 323.744 323.744 0 0 1-20.704-98.816H370.24a16 16 0 0 1-2.88-31.744l2.88-0.256h111.136a324.064 324.064 0 0 1 208.864-286.976 16 16 0 0 1 20.64 9.28zM288 384a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32v-192a32 32 0 0 1 32-32h128z m608 13.248a32 32 0 0 1 32 32v160a32 32 0 0 1-32 32h-128a32 32 0 0 1-32-32v-160a32 32 0 0 1 32-32h128zM288 416H160v192h128v-192z m608 13.248h-128v160h128v-160zM896 96a32 32 0 0 1 32 32v160a32 32 0 0 1-32 32h-128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32h128z m0 32h-128v160h128V128z",fill:"#000000"})),ht=()=>a("svg",{class:"apng-loading-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"96",height:"96"},a("path",{d:"M512 46.4c0 18.3 15.2 32.8 33.4 32.2 5.9-0.2 11.9-0.3 17.9-0.3 129.2 0 247.3 47.9 337.4 126.9 4.4 3.9 10.5-2.1 6.8-6.6-87.3-105.4-216-175.1-361.1-184.4-18.6-1.1-34.4 13.5-34.4 32.2z m0 931.3c0-18.3-15.2-32.8-33.4-32.2-5.9 0.2-11.9 0.3-17.9 0.3-129.2 0-247.3-47.9-337.4-126.9-4.4-3.9-10.5 2.1-6.8 6.6 87.3 105.2 216 174.9 361.1 184.2 18.6 1.3 34.4-13.4 34.4-32z",fill:"#AAA"})),lt=()=>a("svg",{class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},a("path",{d:"M374.784 992.768L97.28 860.16a72.704 72.704 0 0 1-26.624-62.464V124.416c0-27.648 11.776-44.032 26.624-36.864l277.504 132.096a75.264 75.264 0 0 1 26.624 62.464v673.28c0 27.648-12.288 44.032-26.624 37.376z",fill:"#000000"}),a("path",{d:"M683.52 870.4H138.752a74.752 74.752 0 0 1-74.752-75.264V122.368A74.752 74.752 0 0 1 138.752 47.104h544.768a75.264 75.264 0 0 1 74.752 75.264v190.464a26.112 26.112 0 0 1-25.6 25.6 25.6 25.6 0 0 1-25.6-25.6V122.368a24.064 24.064 0 0 0-23.552-24.064H138.752a23.552 23.552 0 0 0-23.552 24.064v673.28a23.552 23.552 0 0 0 23.552 24.064h544.768a24.064 24.064 0 0 0 23.552-24.064v-177.152a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6v177.152A75.264 75.264 0 0 1 683.52 870.4z",fill:"#000000"}),a("path",{d:"M900.096 484.864h-313.344A25.6 25.6 0 0 1 563.2 460.8a25.6 25.6 0 0 1 25.6-25.6h313.344a25.6 25.6 0 0 1 25.6 25.6 25.6 25.6 0 0 1-27.648 24.064z",fill:"#000000"}),a("path",{d:"M850.944 589.312a26.112 26.112 0 0 1-18.432-7.68 26.112 26.112 0 0 1 0-36.352L921.6 460.8l-89.088-88.064a25.6 25.6 0 0 1 37.888-36.352l102.4 102.4a27.136 27.136 0 0 1 7.68 18.432 26.112 26.112 0 0 1-7.68 17.92l-102.4 102.4a25.6 25.6 0 0 1-19.456 11.776z",fill:"#000000"}));const P=({exportApng:i,exportPng:e,separatorApng:t,getHandler:s})=>{var w,M;const n=L(null),h=L(null),[r,u]=D(null),[v,m]=D(!1),[,y]=D(""),g=q(o=>{m(!0),requestAnimationFrame(async()=>{try{const l=await at(o);u(l)}finally{m(!1)}})},[n.current]);return T(()=>{s==null||s({parse:g,setLoading(o=!0){m(o)}})},[g]),T(()=>{h.current&&(r==null||r.mount(h.current))},[h.current,r]),T(()=>{var l;const o=()=>{var p,C;const f=(C=(p=n.current)==null?void 0:p.files)==null?void 0:C[0];f&&g(f),n.current&&(n.current.value="")};return(l=n.current)==null||l.addEventListener("change",o),()=>{var f;return(f=n.current)==null?void 0:f.removeEventListener("change",o)}},[n.current,r]),a("div",{className:"apng-container"},r?a("div",{className:"apng-result"},a("div",{className:"apng-result-close",onClick:()=>u(null)},a(lt,null)),a("div",{className:"apng-edit-container"},(w=r.frameImages)==null?void 0:w.map((o,l)=>a("div",{className:"apng-edit-frame"},a("img",{key:o.substring(12,24),src:o}),a("div",{className:"apng-edit-item-container "},a("span",{className:"apng-edit-item"},a("span",{className:"label"},"delayNum:"),a("input",{type:"number",onBlur:f=>{const p=+f.target.value;p!==r.frames[l].fcTLChunk.delayDen&&r.modifyFrame({delayNum:p},l)},value:r.frames[l].fcTLChunk.delayNum})),a("span",{className:"apng-edit-item"},a("span",{className:"label"},"delayDen:"),a("input",{type:"number",onBlur:f=>{const p=+f.target.value;p!==r.frames[l].fcTLChunk.delayDen&&r.modifyFrame({delayDen:p},l)},value:r.frames[l].fcTLChunk.delayDen})),a("span",{className:"apng-edit-item"},a("span",{className:"label"},"disposeOp:"),a("input",{type:"number",onBlur:f=>{const p=+f.target.value;p!==r.frames[l].fcTLChunk.disposeOp&&r.modifyFrame({disposeOp:p},l)},value:r.frames[l].fcTLChunk.disposeOp})),a("span",{className:"apng-edit-item"},a("span",{className:"label"},"blendOp:"),a("input",{type:"number",onBlur:f=>{const p=+f.target.value;p!==r.frames[l].fcTLChunk.blendOp&&r.modifyFrame({blendOp:p},l)},value:r.frames[l].fcTLChunk.blendOp})),e&&a("span",{className:"apng-edit-item"},a("span",{className:"label single",onClick:()=>e(r,l)},a(B,null),"Export")))))),a("div",{className:"apng-preview-container apng-edit-frame"},a("div",{className:"apng-preview",ref:h}),a("div",{className:"apng-edit-item-container"},a("span",{className:"apng-edit-item"},a("span",{onClick:()=>r.play()},a(nt,null)),a("span",{onClick:()=>r.pause()},a(it,null)),a("span",{onClick:()=>r.stop()},a(rt,null))),a("span",{className:"apng-edit-item"},a("span",{className:"label"},"playTime:"),a("input",{type:"number",onBlur:o=>{var f;const l=+o.target.value;l!==((f=r.ACTL)==null?void 0:f.playTime)&&r.modify({playTime:l})},value:(M=r.ACTL)==null?void 0:M.playTime})),!!i&&a("span",{className:"apng-edit-item",onClick:()=>i(r)},a(B,null)," Export"),!!t&&a("span",{className:"apng-edit-item",onClick:()=>t(r)},a(ct,null)," Separator"),a("span",{className:"apng-edit-item",style:{marginTop:48}},a("span",{className:"label",style:{width:160}},"allFramesDelay(ms):"),a("input",{type:"number",onBlur:o=>{let l=parseInt(o.target.value,10);Number.isNaN(l)||(l<11&&(l=100),r.frames.forEach((f,p)=>r.modifyFrame({delayDen:1e3,delayNum:l},p)),y(l.toString()),r.playing&&(r.stop(),r.play()))}}))))):a("div",{className:"apng-file-container"},v?a(ht,null):a("div",{className:"apng-file-target",onDrop:async o=>{var f,p;const l=Array.from(((f=o.dataTransfer)==null?void 0:f.files)||[]).findIndex(C=>C.type==="image/png");o.stopPropagation(),o.preventDefault(),!(l<0)&&g((p=o.dataTransfer)==null?void 0:p.files[l])},onDragOver:o=>o.preventDefault(),onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()}},a("input",{ref:n,type:"file",accept:"image/png",style:{display:"none"}}),a(st,null),a("div",{className:"apng-file-target-tip"},"Click to select or drop .apng file"))))},ot=()=>{const[i,e]=D(null),t=L(null);return T(()=>{let s;return(async()=>{s=await G("tauri://file-drop",async h=>{var g,w;const r=(g=h.payload)==null?void 0:g[0];if(!r)return;(w=t.current)==null||w.call(t,!0);const u=await j(r),m=r.split(/[\|/]/).pop();if(!m)return;const y=new File([u],m);i==null||i(y)})})(),()=>s==null?void 0:s()},[i]),a(P,{getHandler:({parse:s,setLoading:n})=>{e(()=>s),t.current=n},exportApng:async s=>{const n=await R({title:"please select directory path to save"});await k({contents:s.data,path:n})},exportPng:async(s,n)=>{const h=await R({title:"please select directory path to save"});await k({contents:A(s.frameImages[n]),path:h})},separatorApng:async s=>{const n=await S({title:"please select directory path to save",directory:!0});s.frameImages.forEach((h,r)=>{k({contents:A(h),path:n+"/frame_"+r+".png"})})}})},V=i=>{const e=URL.createObjectURL(new Blob([i],{type:"image/png"})),t=document.createElement("a");t.setAttribute("download","apng.png"),t.setAttribute("href",e),t.click()},ft=()=>a(P,{exportApng:async i=>V(i.data),exportPng:async(i,e)=>V(A(i.frameImages[e]))});K({}.VITE_ENV==="app"?a(ot,null):a(ft,null),document.getElementById("app"));
